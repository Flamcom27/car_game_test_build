System.register("chunks:///_virtual/CameraController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,n,s,a,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.Node,c=t.Vec3,l=t.view,p=t.Component}],execute:function(){var f,h,u,d,y;n._RF.push({},"ff842EaUYdCXqpUTxqQjQcA","CameraController",void 0);var v=s.ccclass,C=s.property;t("CameraController",(f=v("CameraController"),h=C(a),f((y=e((d=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"car",y,r(e)),e._offset=void 0,e}i(e,t);var n=e.prototype;return n.start=function(){var t=this.car.position.x-this.node.position.x,e=this.car.position.y-this.node.position.y;this._offset=new c(t,e,0);var i=l.getVisibleSize();console.log("Screen Size:",i.width,i.height)},n.update=function(t){if(this.car){var e=this.car.getPosition(),i=new c(e.x-this._offset.x,e.y-this._offset.y,this.node.position.z);this.node.setPosition(i)}},e}(p)).prototype,"car",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/CarController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,r,i,l,a,c,s,u,h,p,f,d,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.Slider,c=e.Node,s=e.Animation,u=e.ConstantForce,h=e.Collider,p=e.RigidBody,f=e.ERigidBodyType,d=e.Quat,g=e.Vec3,m=e.Component}],execute:function(){var b,y,w,C,x,v,_,z,F,A,B,E,k,D,R,I,N,T,P,G,L;i._RF.push({},"a8f8dxNwFxKDp2mysP+IG9l","CarController",void 0);var M=l.ccclass,S=l.property;e("CarController",(b=M("CarController"),y=S(a),w=S(c),C=S(c),x=S(c),v=S(c),_=S(Number),z=S(s),F=S(c),A=S(c),b((k=t((E=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"slider",k,r(t)),n(t,"wheel1",D,r(t)),n(t,"wheel2",R,r(t)),n(t,"wheel3",I,r(t)),n(t,"wheel4",N,r(t)),n(t,"maxForce",T,r(t)),n(t,"destroyingAnimation",P,r(t)),n(t,"checkBox1",G,r(t)),n(t,"checkBox2",L,r(t)),t._wheels=void 0,t._force=void 0,t}o(t,e);var i=t.prototype;return i.start=function(){var e=this;this._force=this.node.getComponent(u),this._wheels=[this.wheel1,this.wheel2,this.wheel3,this.wheel4];var t=this.node.getComponents(h);(t=t.concat(this.getComponentsInChildren(h))).forEach((function(t){t.on("onCollisionEnter",(function(e){var t=e.otherCollider.getComponent(p);16===t.getGroup()&&(t.type=f.DYNAMIC)}),e)})),this.checkBox1.getComponent(h).once("onTriggerEnter",(function(t){e.destroyingAnimation.play("DestroyingAnimation"),e.destroyCar(t)}),this),this.checkBox2.getComponent(h).on("onTriggerEnter",(function(t){e.destroyCar(t)}),this)},i.update=function(e){this.updateWheels(),this.updateForce(e)},i.updateWheels=function(){var e=this;this._wheels&&this._wheels.forEach((function(t){var o=t.getRotation(),n=d.fromAxisAngle(new d,new g(0,1,0),e.slider.progress/10),r=d.multiply(new d,o,n);t.setRotation(r)}))},i.updateForce=function(e){this._force.force.x+=100*(2*this.slider.progress-1)*e-30*e,this._force.force.x>this.maxForce?this._force.force.x=this.maxForce:this._force.force.x<0&&(this._force.force.x=0)},i.destroyCar=function(e){e.otherCollider.node===this.node&&(this.getComponent(p).enabled=!1,this.getComponents(h).forEach((function(e){e.enabled=!1})),this.node.children.forEach((function(e){e.getComponent(p);var t=e.getComponent(h);t&&(console.log(e.name),t.enabled=!0)})))},t}(m)).prototype,"slider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(E.prototype,"wheel1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(E.prototype,"wheel2",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(E.prototype,"wheel3",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(E.prototype,"wheel4",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(E.prototype,"maxForce",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),P=t(E.prototype,"destroyingAnimation",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(E.prototype,"checkBox1",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(E.prototype,"checkBox2",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=E))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/CollectCoin.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,o,a,l,c,s,u,h,p,f,g,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,c=e.Prefab,s=e.Canvas,u=e.Camera,h=e.Collider,p=e.instantiate,f=e.Vec3,g=e.view,b=e.tween,d=e.Component}],execute:function(){var C,m,v,y,w,P,z,S,T,E,_;o._RF.push({},"2523cta5ntHb7AXuhnti1CQ","CollectCoin",void 0);var D=a.ccclass,L=a.property;e("CollectCoin",(C=D("CollectCoin"),m=L(l),v=L(c),y=L(s),w=L(u),C((S=t((z=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"counter",S,r(t)),i(t,"coinPrefab",T,r(t)),i(t,"canvas",E,r(t)),i(t,"mainCamera",_,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;this.getComponentsInChildren(h).forEach((function(t){t.on("onTriggerEnter",e.onTriggerEnter,e)}))},o.onTriggerEnter=function(e){if(this.counter&&(this.counter.string=(Number(this.counter.string)+1).toString()),this.canvas&&this.coinPrefab&&this.mainCamera){var t=p(this.coinPrefab),n=this.mainCamera.worldToScreen(e.selfCollider.node.worldPosition);t.scale=new f(.5,.5,0),this.canvas.node.addChild(t);var i=g.getViewportRect(),r=g.getVisibleSize(),o=new f(n.x/i.width*r.width/10,n.y/i.height*r.height/10,0);console.log(o),t.setPosition(o),b(t).to(1,{position:this.counter.node.parent.position}).destroySelf().start()}e.selfCollider.node.destroy()},t}(d)).prototype,"counter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(z.prototype,"coinPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(z.prototype,"canvas",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(z.prototype,"mainCamera",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=z))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/InterfaceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./platform.mjs_cjs=&original=.js","./platform.js"],(function(e){var t,n,i,o,r,a,s,l,c,d,u,h,p,f,g,m,y,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.Button,c=e.Slider,d=e.Node,u=e.Collider,h=e.view,p=e.UITransform,f=e.color,g=e.tween,m=e.Vec3,y=e.Component},null,function(e){w=e.default}],execute:function(){var b,v,C,T,B,_,D,z,E,S,I,L,M;r._RF.push({},"f6654ph3WJCro7vqzRjEsWL","InterfaceManager",void 0);var j=a.ccclass,k=a.property;e("InterfaceManager",(b=j("InterfaceManager"),v=k(s),C=k(l),T=k(c),B=k(d),_=k(d),b((E=t((z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"hand",E,o(t)),i(t,"button",S,o(t)),i(t,"slider",I,o(t)),i(t,"checkBoxes",L,o(t)),i(t,"endGameDisplay",M,o(t)),t._handTween=null,t}n(t,e);var r=t.prototype;return r.start=function(){var e=this;this._setHandTween(),this._setEndButtonTween();this.slider.node.getChildByName("Handle");this.button.node.on(l.EventType.CLICK,this.redirectToStore,this),this.slider.node.once("slide",(function(){e._handTween&&(e.hand.destroy(),e._handTween.destroySelf())}),this),this.checkBoxes.getComponentsInChildren(u).forEach((function(t){t.on("onTriggerEnter",e.showEndDisplay,e)}));var t=h.getVisibleSize(),n=h.getDesignResolutionSize(),i=t.width/n.width,o=t.height/n.height,r=Math.min(i,o);this.node.setScale(r,r),this.endGameDisplay.getChildByName("Background").getComponent(p).width=t.x},r.showEndDisplay=function(e){var t=this;"Machine"===e.otherCollider.node.name&&(this.node.children.forEach((function(e){var t=e.getComponent(s);t&&(t.color=f(0,0,0,0))})),setTimeout((function(){t.endGameDisplay.active=!0,document.body.addEventListener("click",t.redirectToStore)}),3500))},r.redirectToStore=function(e){var t,n=w.os.family.toLowerCase();t=n.includes("ios")||n.includes("os x")?"https://apps.apple.com/us/app/ride-master-car-builder-game/id6449224139":"https://play.google.com/store/apps/details?id=com.LuB.DeliveryConstruct&hl=en&pli=1",window.location.replace(t)},r._setHandTween=function(){var e=this.hand.node.getPosition(),t=this.slider.getComponent(p).contentSize.y;this._handTween=g(this.hand.node).by(2,{position:new m(0,t,0)},{easing:"quadOut"}).to(.1,{}).hide().to(1,{position:e}).show().union().repeatForever().start()},r._setEndButtonTween=function(){g(this.endGameDisplay.getChildByName("EndButton")).to(1,{scale:new m(.8,.8,0)}).to(1,{scale:new m(.5,.5,0)}).union().repeatForever().start()},t}(y)).prototype,"hand",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(z.prototype,"button",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(z.prototype,"slider",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(z.prototype,"checkBoxes",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(z.prototype,"endGameDisplay",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=z))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CameraController.ts","./CarController.ts","./CollectCoin.ts","./InterfaceManager.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});